<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>План накопления 800 000 ₽</title>
    <style>
        :root {
            --primary-color: #4CAF50;
            --background-color: #121212;
            --surface-color: #1e1e1e;
            --text-color: #e0e0e0;
            --secondary-text: #a0a0a0;
            --divider-color: #333;
            --checkbox-color: #4CAF50;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: var(--background-color);
        }

        .header {
            background-color: var(--surface-color);
            color: var(--text-color);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            border: 1px solid var(--divider-color);
        }

        .goal {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .months-container {
            display: flex;
            overflow-x: auto;
            gap: 15px;
            padding-bottom: 20px;
            margin-bottom: 30px;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) var(--surface-color);
        }

        .months-container::-webkit-scrollbar {
            height: 8px;
        }

        .months-container::-webkit-scrollbar-track {
            background: var(--surface-color);
        }

        .months-container::-webkit-scrollbar-thumb {
            background-color: var(--primary-color);
            border-radius: 4px;
        }

        .month {
            min-width: 280px;
            background: var(--surface-color);
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            border: 1px solid var(--divider-color);
        }

        .month-title {
            font-weight: bold;
            font-size: 18px;
            color: var(--primary-color);
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--divider-color);
        }

        .category {
            margin-bottom: 15px;
        }

        .category-title {
            font-weight: bold;
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
        }

        .item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
            padding-left: 10px;
        }

        .checkbox {
            width: 18px;
            height: 18px;
            margin-right: 10px;
            accent-color: var(--checkbox-color);
            cursor: pointer;
        }

        .total {
            font-weight: bold;
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px solid var(--divider-color);
            display: flex;
            justify-content: space-between;
        }

        .savings-progress {
            margin-top: 30px;
            background: var(--surface-color);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            border: 1px solid var(--divider-color);
        }

        .progress-bar {
            height: 30px;
            background-color: #333;
            border-radius: 15px;
            margin-top: 10px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background-color: var(--primary-color);
            width: 0%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .tips {
            background-color: #1a2e1a;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            border: 1px solid var(--divider-color);
        }

        .tips-title {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }

        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #3d8b40;
        }

        @media (max-width: 600px) {
            .month {
                min-width: 260px;
            }
            
            .controls {
                flex-direction: column;
            }
            
            button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="goal">Цель: накопить 800 000 ₽ за 8 месяцев</div>
        <div>Ежемесячные накопления: 103 500 ₽</div>
    </div>

    <div class="controls">
        <button id="save-btn">Сохранить прогресс</button>
        <button id="reset-btn">Сбросить прогресс</button>
    </div>

    <div class="months-container" id="months-container">
        <!-- Месяцы будут добавляться динамически -->
    </div>

    <div class="savings-progress">
        <div>Накоплено: <span id="saved-amount">0</span> из 800 000 ₽ (<span id="saved-percent">0</span>%)</div>
        <div class="progress-bar">
            <div class="progress" id="progress-bar">0%</div>
        </div>
    </div>

    <div class="tips">
        <div class="tips-title">Советы для ускорения накоплений:</div>
        <ul>
            <li>Используйте кэшбек-сервисы (до 2 000 ₽/мес)</li>
            <li>Продавайте ненужные вещи (техника, одежда)</li>
            <li>Покупайте продукты оптом в гипермаркетах</li>
            <li>Планируйте развлечения заранее, чтобы найти скидки</li>
        </ul>
    </div>

    <script>
        // Данные бюджета
        const budgetData = {
            months: 8,
            fixedExpenses: [
                { name: "Корм животному", amount: 5000 },
                { name: "Проезд", amount: 10000 },
                { name: "Интернет + связь", amount: 1500 }
            ],
            foodExpenses: [
                { name: "Хотелки (мясо/рыба)", amount: 7000 },
                { name: "Овощи/фрукты", amount: 6000 },
                { name: "Молочка/яйца", amount: 4000 },
                { name: "Бакалея", amount: 5000 },
                { name: "Прочее", amount: 3000 }
            ],
            personalExpenses: [
                { name: "Кафе/доставка", amount: 8000 },
                { name: "Одежда", amount: 6000 },
                { name: "Развлечения", amount: 6000 },
                { name: "Красота/здоровье", amount: 5000 }
            ],
            monthlySavings: 103500,
            totalGoal: 800000
        };

        // Инициализация приложения
        document.addEventListener('DOMContentLoaded', function() {
            renderMonths();
            loadProgress();
            updateProgress();
            
            // Обработчики событий
            document.getElementById('save-btn').addEventListener('click', saveProgress);
            document.getElementById('reset-btn').addEventListener('click', resetProgress);
            
            // Обработчик изменений чекбоксов
            document.getElementById('months-container').addEventListener('change', function(e) {
                if (e.target.classList.contains('checkbox')) {
                    updateProgress();
                }
            });
        });

        // Рендер месяцев
        function renderMonths() {
            const container = document.getElementById('months-container');
            container.innerHTML = '';
            
            for (let i = 1; i <= budgetData.months; i++) {
                const monthEl = document.createElement('div');
                monthEl.className = 'month';
                monthEl.innerHTML = `
                    <div class="month-title">Месяц ${i}</div>
                    
                    <div class="category">
                        <div class="category-title">
                            <span>Обязательные расходы</span>
                            <span>${budgetData.fixedExpenses.reduce((sum, item) => sum + item.amount, 0).toLocaleString()} ₽</span>
                        </div>
                        ${budgetData.fixedExpenses.map(item => `
                            <div class="item">
                                <input type="checkbox" class="checkbox" id="fixed-${i}-${item.name}" data-month="${i}" data-type="fixed">
                                <label for="fixed-${i}-${item.name}">${item.name} (${item.amount.toLocaleString()} ₽)</label>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="category">
                        <div class="category-title">
                            <span>Продукты</span>
                            <span>${budgetData.foodExpenses.reduce((sum, item) => sum + item.amount, 0).toLocaleString()} ₽</span>
                        </div>
                        ${budgetData.foodExpenses.map(item => `
                            <div class="item">
                                <input type="checkbox" class="checkbox" id="food-${i}-${item.name}" data-month="${i}" data-type="food">
                                <label for="food-${i}-${item.name}">${item.name} (${item.amount.toLocaleString()} ₽)</label>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="category">
                        <div class="category-title">
                            <span>Личные траты</span>
                            <span>${budgetData.personalExpenses.reduce((sum, item) => sum + item.amount, 0).toLocaleString()} ₽</span>
                        </div>
                        ${budgetData.personalExpenses.map(item => `
                            <div class="item">
                                <input type="checkbox" class="checkbox" id="personal-${i}-${item.name}" data-month="${i}" data-type="personal">
                                <label for="personal-${i}-${item.name}">${item.name} (${item.amount.toLocaleString()} ₽)</label>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="total">
                        <span>Накопления:</span>
                        <span>${budgetData.monthlySavings.toLocaleString()} ₽</span>
                    </div>
                `;
                
                container.appendChild(monthEl);
            }
        }

        // Обновление прогресса
        function updateProgress() {
            const checkboxes = document.querySelectorAll('.checkbox');
            let completedMonths = 0;
            const itemsPerMonth = budgetData.fixedExpenses.length + budgetData.foodExpenses.length + budgetData.personalExpenses.length;
            
            // Проверяем сколько месяцев полностью выполнено
            for (let month = 1; month <= budgetData.months; month++) {
                const monthCheckboxes = document.querySelectorAll(`.checkbox[data-month="${month}"]`);
                let allChecked = true;
                
                monthCheckboxes.forEach(checkbox => {
                    if (!checkbox.checked) allChecked = false;
                });
                
                if (allChecked) completedMonths++;
            }
            
            const savedAmount = completedMonths * budgetData.monthlySavings;
            const percent = Math.min(Math.round((savedAmount / budgetData.totalGoal) * 100), 100);
            
            document.getElementById('saved-amount').textContent = savedAmount.toLocaleString();
            document.getElementById('saved-percent').textContent = percent;
            document.getElementById('progress-bar').style.width = `${percent}%`;
            document.getElementById('progress-bar').textContent = `${percent}%`;
        }

        // Сохранение прогресса
        function saveProgress() {
            const checkboxes = document.querySelectorAll('.checkbox');
            const progress = [];
            
            checkboxes.forEach(checkbox => {
                progress.push(checkbox.checked);
            });
            
            localStorage.setItem('budgetProgress', JSON.stringify(progress));
            alert('Прогресс сохранён!');
        }

        // Загрузка прогресса
        function loadProgress() {
            const savedProgress = localStorage.getItem('budgetProgress');
            if (savedProgress) {
                const progress = JSON.parse(savedProgress);
                const checkboxes = document.querySelectorAll('.checkbox');
                
                checkboxes.forEach((checkbox, index) => {
                    if (progress[index]) {
                        checkbox.checked = true;
                    }
                });
            }
        }

        // Сброс прогресса
        function resetProgress() {
            if (confirm('Вы уверены, что хотите сбросить весь прогресс?')) {
                localStorage.removeItem('budgetProgress');
                document.querySelectorAll('.checkbox').forEach(checkbox => {
                    checkbox.checked = false;
                });
                updateProgress();
            }
        }
    </script>
    <!-- Подключение Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>

<script type="module">
        // Импортируем необходимые функции из Firebase
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        // Импортируем дополнительные модули Firebase по необходимости
        // import { getAuth } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        
        // Конфигурация Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyBjiai3bP5pOMYkj0y2RTJ0qBtJvdPwlB4",
            authDomain: "days-bef8b.firebaseapp.com",
            projectId: "days-bef8b",
            storageBucket: "days-bef8b.appspot.com",
            messagingSenderId: "69033447865",
            appId: "1:69033447865:web:2b72ac7bceb4952bb72668"
        };

        // Инициализируем Firebase
        const app = initializeApp(firebaseConfig);
        
        console.log("Firebase инициализирован!", app);
    
</script>
</body>
</html>
